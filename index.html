<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Roblox Game Stats</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div id="loader" class="loader">
            <div class="spinner"></div>
        </div>

        <div id="main" class="hidden">
            <header class="header">
                <h1>Roblox Game Stats</h1>
            </header>

            <nav class="nav">
                <button class="nav-btn active" data-tab="dashboard">
                    <span data-lang="nav_dashboard">Главная</span>
                </button>
                <button class="nav-btn" data-tab="games">
                    <span data-lang="nav_games">Игры</span>
                </button>
                <button class="nav-btn" data-tab="profile">
                    <span data-lang="nav_profile">Профиль</span>
                </button>
            </nav>

            <main class="content">
                <section class="tab-content active" id="dashboard">
                    <div class="card" id="robloxCard">
                        <div id="noRoblox" class="empty-block">
                            <p data-lang="no_roblox">Аккаунт Roblox не привязан</p>
                            <button class="btn btn-primary" id="linkRobloxBtn" data-lang="link_account">Привязать</button>
                        </div>
                        <div id="robloxInfo" class="hidden">
                            <div class="roblox-profile">
                                <img id="robloxAvatar" src="" alt="Avatar">
                                <div class="roblox-details">
                                    <h3 id="robloxUsername">Username</h3>
                                    <p id="robloxDisplayName">Display Name</p>
                                </div>
                                <button class="btn-icon" id="unlinkBtn" title="Unlink">×</button>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 data-lang="statistics">Статистика</h2>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-value" id="totalGames">0</span>
                                <span class="stat-label" data-lang="total_games">Игр</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="totalVisits">0</span>
                                <span class="stat-label" data-lang="total_visits">Визитов</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="totalPlaying">0</span>
                                <span class="stat-label" data-lang="playing_now">Играют</span>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 data-lang="my_games">Мои игры</h2>
                            <button class="btn btn-small btn-primary" id="addGameBtnDash" data-lang="add">Добавить</button>
                        </div>
                        <div id="dashboardGames"></div>
                    </div>
                </section>

                <section class="tab-content" id="games">
                    <div class="section-header">
                        <h2 data-lang="my_games">Мои игры</h2>
                        <button class="btn btn-primary btn-small" id="addGameBtn" data-lang="add">Добавить</button>
                    </div>
                    <div id="gamesList"></div>
                    <div id="noGames" class="empty-state">
                        <p data-lang="no_games">Нет добавленных игр</p>
                        <button class="btn btn-primary" id="addFirstGameBtn" data-lang="add_first_game">Добавить первую игру</button>
                    </div>
                </section>

                <section class="tab-content" id="profile">
                    <div class="card">
                        <h2 data-lang="telegram_account">Telegram аккаунт</h2>
                        <div class="profile-row">
                            <div class="avatar" id="tgAvatar">U</div>
                            <div class="profile-details">
                                <h3 id="tgName">User</h3>
                                <p id="tgUsername">@username</p>
                                <p id="tgId">ID: 0</p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 data-lang="roblox_account">Аккаунт Roblox</h2>
                        <div id="profileRoblox">
                            <p class="text-secondary" data-lang="not_linked">Не привязан</p>
                        </div>
                    </div>

                    <div class="card">
                        <h2 data-lang="settings">Настройки</h2>
                        <div class="setting-row">
                            <span data-lang="language">Язык</span>
                            <select id="langSelect" class="select">
                                <option value="ru">Русский</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        <div class="setting-row">
                            <span data-lang="theme">Тема</span>
                            <select id="themeSelect" class="select">
                                <option value="dark">Тёмная</option>
                                <option value="light">Светлая</option>
                            </select>
                        </div>
                    </div>

                    <div class="card">
                        <h2 data-lang="about">О приложении</h2>
                        <p class="text-secondary">Roblox Game Stats v1.0.0</p>
                    </div>
                </section>
            </main>
        </div>

        <div class="modal" id="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Title</h3>
                    <button class="btn-icon modal-close">×</button>
                </div>
                <div class="modal-body" id="modalBody"></div>
            </div>
        </div>

        <div class="modal" id="gameModal">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h3 id="gameModalTitle">Game</h3>
                    <button class="btn-icon modal-close">×</button>
                </div>
                <div class="modal-body" id="gameModalBody"></div>
                <div class="modal-footer">
                    <button class="btn btn-danger" id="removeGameBtn" data-lang="remove">Удалить</button>
                    <button class="btn btn-secondary modal-close" data-lang="close">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>